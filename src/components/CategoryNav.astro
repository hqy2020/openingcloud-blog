---
/**
 * åˆ†ç±»å¯¼èˆªç»„ä»¶
 * å±•ç¤º 4 ä¸ªå†…å®¹åˆ†ç±»ï¼Œå¸¦å›¾æ ‡å’Œæ–‡ç« è®¡æ•°
 */
import { getCollection } from 'astro:content';

const [journalPosts, techPosts, learningPosts, lifePosts] = await Promise.all([
  getCollection('journal', ({ data }) => !data.draft),
  getCollection('tech', ({ data }) => !data.draft),
  getCollection('learning', ({ data }) => !data.draft),
  getCollection('life', ({ data }) => !data.draft),
]);

const categories = [
  { label: 'æ—¥è®°', icon: 'ğŸ““', href: '/journal/', count: journalPosts.length, desc: 'æ—¥è®° & è®¡åˆ’å¤ç›˜' },
  { label: 'æŠ€æœ¯', icon: 'ğŸ’»', href: '/tech/', count: techPosts.length, desc: 'Java Â· AI Â· Agent' },
  { label: 'å­¦ä¹ ', icon: 'ğŸ“š', href: '/learning/', count: learningPosts.length, desc: 'å­¦ä¹ æ–¹æ³• & è®¤çŸ¥' },
  { label: 'ç”Ÿæ´»', icon: 'ğŸ“·', href: '/life/', count: lifePosts.length, desc: 'ç…§ç‰‡ & éšè®°' },
];
---

<div class="grid grid-cols-2 md:grid-cols-4 gap-4">
  {categories.map(cat => (
    <a
      href={cat.href}
      class="group flex flex-col items-center p-4 rounded-xl bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 hover:border-primary-300 dark:hover:border-primary-600 hover:shadow-md transition-all"
    >
      <span class="text-3xl mb-2">{cat.icon}</span>
      <span class="font-semibold text-slate-700 dark:text-slate-200 group-hover:text-primary-500">{cat.label}</span>
      <span class="text-xs text-slate-400 dark:text-slate-500 mt-0.5">{cat.desc}</span>
      <span class="mt-2 text-xs px-2 py-0.5 rounded-full bg-primary-100 text-primary-600 dark:bg-primary-900/30 dark:text-primary-300">
        {cat.count} ç¯‡
      </span>
    </a>
  ))}
</div>
